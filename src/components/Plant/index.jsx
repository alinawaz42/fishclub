import React, { Component } from 'react';
import { connect } from 'react-redux';
import * as konva from 'react-konva';

import { toTweenKonvaProps, toInitialKonvaProps } from './helpers';

const plantB64 = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTEuOTk3IDUxMS45OTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMS45OTcgNTExLjk5NzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgY2xhc3M9IiI+PGc+PHNjcmlwdCB4bWxucz0iIi8+PHBhdGggc3R5bGU9ImZpbGw6IzJDRjEzNiIgZD0iTTQ1MC4wMTgsMjE4Ljk0M2MtMi42Myw5LjY1Ni03LjY1OSwyMS4zNTItMTguODY1LDM3LjU5NGMtMi4yNjQtMS40Ni00LjY1OS0zLjE5Mi03LjA0My01LjI0MyAgYy0xMi4xNTUtMTAuNDUyLTE4LjU2Ni0yMy45MTEtMTkuNi00MS4xNDdjLTAuODgxLTE0LjY5Ny0xMy41MTEtMjUuOTAxLTI4LjIwOC0yNS4wMTVjLTE0LjY5NywwLjg4MS0yNS44OTcsMTMuNTExLTI1LjAxNSwyOC4yMDggIGMxLjk2LDMyLjY2NCwxNS45NjIsNjAuNDcyLDQwLjQ5NSw4MC40MThjMC4zMzgsMC4yNzQsMC42NzQsMC41MzksMS4wMTIsMC44MDdjLTEyLjYyOSw4Ljc0Mi0yNy44NzMsMTYuNzAyLTQ2LjI2NywyMy4xMzIgIGMtMy44NDYtMTYuNzI0LTkuMjI4LTMyLjczNS0xNC40MzgtNDguMjMyYy05LjQyNy0yOC4wNDctMTguMzMzLTU0LjUzOC0xOS4yNTItODQuMTQyYy0wLjQwNS0xMy4wMzcsMC4xMDItMjguMTA4LDEuMTA1LTQzLjQ5MSAgYzI2LjkxNS0yLjAxMiw3MS4zMzUtOS43ODEsOTkuODExLTM4LjA3OGMxMC40NDQtMTAuMzc5LDEwLjQ5Ny0yNy4yNTgsMC4xMTctMzcuNzAxYy0xMC4zNzgtMTAuNDQ2LTI3LjI1OS0xMC40OTYtMzcuNzAxLTAuMTE4ICBjLTEzLjQyLDEzLjMzNS0zNy41MTYsMTkuMzQ1LTU3LjE0LDIxLjc4YzMuMTE1LTI2LjQ4LDYuMjIzLTQ2LjI2NSw2LjI4OS00Ni42ODRjMi4zMDUtMTQuNTQxLTcuNjE0LTI4LjE5OC0yMi4xNTUtMzAuNTA0ICBjLTE0LjU0OC0yLjMwNy0yOC4yLDcuNjEzLTMwLjUwNiwyMi4xNTVjLTAuNjExLDMuODU1LTE0Ljk1MSw5NS4wOS0xMy4xMTMsMTU0LjI5NWMxLjE2NSwzNy40NzUsMTIuMjM3LDcwLjQxMywyMi4wMDcsOTkuNDc2ICBjMTUuNjI0LDQ2LjQ3OSwyNy44NjcsODIuOSwyLjkzNSwxMjguOTQ4Yy05Ljk2OS0yNy40NTItMjUuOTgyLTYyLjE4MS01MS4yNDEtOTcuNTc3Yy05LjQ1Ni0xMy4yNTEtMTkuNDEzLTI2LjYxNy0yOS45NTUtNDAuNzY3ICBjLTIzLjMwMS0zMS4yNzUtNDguMjYtNjQuNzc4LTY2Ljc4OC05Ni40MDljMjQuMzIyLTEzLjc2OCw1NS45NS00NC45NTYsNjQuMTk3LTExNS4wODNjMS43Mi0xNC42MjMtOC43NDEtMjcuODcxLTIzLjM2My0yOS41OTEgIGMtMTQuNjI5LTEuNzE4LTI3Ljg3MSw4Ljc0MS0yOS41OTEsMjMuMzYzYy01LjI4Miw0NC45Mi0yMi4wMjgsNjQuNDk0LTM0LjE2Nyw3Mi45MTNjLTMuMTYzLTkuNjE5LTUuMTA0LTE4Ljc3Ni01LjQ5OC0yNy4zMDggIGMtMC42OC0xNC43MDgtMTMuMTMtMjYuMDk3LTI3Ljg2Mi0yNS40Yy0xNC43MDcsMC42NzktMjYuMDc5LDEzLjE1My0yNS40LDI3Ljg2MWMyLjU2OSw1NS42MDQsNDIuODg2LDExNi4yNDMsODYuNzcyLDE3NS45NjQgIGMtMjkuODksMS4wMTEtNjcuMjA5LTIuNzE0LTg1Ljc2MS0yMS45MDVjLTEwLjI1OC0xMC42MTMtMjcuMTk3LTEwLjg3NC0zNy43NzktMC41NkM3LjM4MywyNzEuMyw3Ljc5NSwyODguNzE4LDE4LjI2NiwyOTkuMzExICBjMjMuNjM2LDIzLjkxMyw2MC4wMzYsMzYuNTE5LDEwOC4yMTEsMzcuNDczYzEuOTMsMC4wMzgsMy44MzUsMC4wNTYsNS43MjIsMC4wNTZjMTkuMzg1LDAsMzYuMjgtMS45MDQsNDYuNTI0LTMuMzkzICBjMy44MDUsNS4xODYsNy41MTgsMTAuMjk1LDExLjEyMiwxNS4zNDhjNDYuOTE0LDY1Ljc0NSw1Ny4wODcsMTI5LjY1MSw1Ny4xNzQsMTMwLjIxOGMxLjQ5NSwxMC4xOCw4LjcxNSwxOC41OSwxOC41NTEsMjEuNjEgIGMyLjU3NiwwLjc5LDUuMjEsMS4xNzUsNy44MjIsMS4xNzVjNy4zNTktMC4wMDEsMTQuNTMtMy4wNTIsMTkuNjU5LTguNjUxYzExLjI3NC0xMi4zMDQsMjAuNTgxLTI0LjIyNywyOC4yMjItMzUuODA0ICBjOC4xMTQsMi4xNDcsMjAuMTQ4LDQuNjgxLDMzLjY2Myw1LjM3NWMyLjQ2MSwwLjEyNiw0Ljg1MiwwLjE4Nyw3LjE4NCwwLjE4N2M0MC42MDEsMCw2Mi4wNDYtMTguNTQsNzIuOTk2LTM0LjU5OCAgYzguMjk1LTEyLjE2NSw1LjE1Ny0yOC43NTEtNy4wMDgtMzcuMDQ1Yy0xMi4xNjQtOC4yOTYtMjguNzUtNS4xNTctMzcuMDQ1LDcuMDA4Yy05LjA3MiwxMy4zMDUtMzAuNzYzLDEyLjMyOS00NS45Nyw5LjY1MiAgYzMuNzY3LTEyLjMzNyw1LjgwNS0yNC4yNjUsNi41MzYtMzUuODMyYzczLjQ3MS0yMi4wMTIsMTExLjQ1Ni02NC4xMTksMTMwLjU5Mi05Ni42MTRjOS4wMzQtMTUuMzQxLDE0Ljc3MS0yOS44NjEsMTguNDEtNDEuOTM0ICBjNC45MTItMTYuMjk2LTYuNzkxLTMyLjg3OC0yMy43ODUtMzMuODIybDAsMEM0NjQuNDk3LDE5OS4wMzQsNDUzLjI2OSwyMDcuMDEsNDUwLjAxOCwyMTguOTQzeiIgZGF0YS1vcmlnaW5hbD0iI0YxNUEyNCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzJjZjEzNiIvPjxwYXRoIGQ9Ik0yNzMuMzkzLDUxMS45OTdjLTMuNjY2LDAtNy4zMDQtMC41NDctMTAuODE1LTEuNjI0Yy0xMy41MjYtNC4xNTMtMjMuNTkzLTE1Ljg4MS0yNS42NDgtMjkuODc4ICBjLTAuMDg1LTAuNTMxLTEwLjMwNS02Mi42LTU1LjM4NS0xMjUuNzc1Yy0yLjMwMy0zLjIyNi00Ljc2OS02LjY0NC03LjQ3LTEwLjM1Yy0xMi4wNzksMS41MjEtMjkuMDAzLDIuOTgyLTQ3Ljc5NywyLjYxMyAgYy01MC45MTctMS4wMDgtODkuNjk2LTE0LjYzNC0xMTUuMjY0LTQwLjVjLTcuMDcyLTcuMTU1LTExLjA3My0xNy4wMzYtMTAuOTgtMjcuMTExYzAuMDkyLTkuODU5LDMuOTYyLTE5LjAxLDEwLjg5OC0yNS43NzEgIGM3LjA3Mi02Ljg5NSwxNi40NDMtMTAuNjI1LDI2LjI3OS0xMC40NjJjOS44NzUsMC4xNDcsMTkuMDkxLDQuMTM4LDI1Ljk1MywxMS4yMzhjMTIuOTA4LDEzLjM1NCwzNy41NjUsMTcuNjM4LDU4LjI5NywxOC42NjkgIGMtMzguOTY2LTU0LjE2OC03NC4zMi0xMTAuODMtNzYuODMxLTE2NS4xNjljLTAuOTM2LTIwLjMwMywxNC44MTctMzcuNTgyLDM1LjExOC0zOC41MmM5LjgzNy0wLjQ1NSwxOS4yNDMsMi45MjgsMjYuNTE4LDkuNTUyICBjNy4yODUsNi42MzUsMTEuNTQ5LDE1LjcxNCwxMi4wMDQsMjUuNTY2YzAuMTE4LDIuNTY5LDAuNDA2LDUuMjY4LDAuODYyLDguMDg1YzcuNTA0LTEwLjExMiwxNS4yNS0yNi44ODQsMTguNDg2LTU0LjQxICBjMi4zNzMtMjAuMTgsMjAuNzE0LTM0LjY3NSw0MC45MS0zMi4zMDFjMjAuMTg1LDIuMzczLDM0LjY3NiwyMC43MjYsMzIuMzAzLDQwLjkxMWMtNy43NjMsNjYuMDEtMzUuNTA4LDk5Ljg4OC02MC40NDUsMTE3LjIwMSAgYzE3LjU1OCwyOC41ODMsMzkuNjU0LDU4LjI0MSw2MS4wODUsODcuMDA3YzEwLjU5NCwxNC4yMjEsMjAuNTcxLDI3LjYxMywzMC4wNzksNDAuOTM3YzE3LjAzMSwyMy44NjYsMzEuNTA4LDQ5LjUzLDQzLjE5OCw3Ni41NDkgIGM5LjQzOC0zMi40MDEtMC4yOC02MS4zMTktMTIuODYtOTguNzQxYy05Ljk5Ni0yOS43NC0yMS4zMjMtNjMuNDM2LTIyLjUzNC0xMDIuNDE0Yy0xLjg2OC02MC4xOCwxMi42MTUtMTUyLjMxNywxMy4yMzQtMTU2LjIxICBjMy4xODQtMjAuMDcyLDIyLjA5OC0zMy44MTMsNDIuMTc4LTMwLjYyOWMyMC4wNzEsMy4xODMsMzMuODExLDIyLjEwMywzMC42Myw0Mi4xNzRjLTAuMTA1LDAuNjY2LTIuMTc2LDEzLjkxNS00LjU4OSwzMi44NjEgIGMxNy4zNTEtMy41MTEsMzAuNjY1LTkuMzI1LDM4LjE3OC0xNi43ODljNi45NTUtNi45MTIsMTYuMTc3LTEwLjcxNCwyNS45NzktMTAuNzE0YzAuMDM5LDAsMC4wNzgsMCwwLjExNiwwICBjOS44NDYsMC4wMzEsMTkuMDkxLDMuODkzLDI2LjAyOSwxMC44NzhjNi45NCw2Ljk4MSwxMC43NDUsMTYuMjQ5LDEwLjcxNCwyNi4wOTVjLTAuMDMxLDkuODQ1LTMuODk0LDE5LjA4OS0xMC44NzcsMjYuMDI5ICBjLTI3LjA3NSwyNi45MDYtNjYuMzM0LDM2LjgyNy05Ny4zMzUsNDAuMTk5Yy0wLjY3NywxMi45NDctMC44NzEsMjQuMjk0LTAuNTc1LDMzLjgxOWMwLjg3MiwyOC4wOTUsOS41NDIsNTMuODksMTguNzIyLDgxLjE5OSAgYzQuMTE1LDEyLjI0Myw4LjMzOSwyNC44MDYsMTEuODc2LDM3Ljg4OWM3Ljg4LTMuMjM5LDE1LjMyNy02Ljg4NCwyMi4yODktMTAuOTExYy0yMC45NjctMjAuOTA1LTMyLjk0LTQ4LjA1MS0zNC44MTItNzkuMjM0ICBjLTAuNTktOS44MjcsMi42ODMtMTkuMjk2LDkuMjE1LTI2LjY2M2M2LjUzMy03LjM2NiwxNS41NDMtMTEuNzQ3LDI1LjM3MS0xMi4zMzdjOS44MS0wLjU5NywxOS4yOTUsMi42NzgsMjYuNjY0LDkuMjE0ICBjNy4zNjYsNi41MzMsMTEuNzQ3LDE1LjU0NCwxMi4zMzYsMjUuMzcyYzAuODEsMTMuNDk1LDUuMjcsMjMuNzc5LDEzLjk3OCwzMi4xMjdjNS42MzUtOS4yNTUsOS4zNTItMTcuNDg3LDExLjUwOC0yNS40MDJsMCwwICBjNC40NzgtMTYuNDM1LDIwLjEyMi0yNy42NzYsMzcuMjM0LTI2LjcyNmMxMS4yNjksMC42MjUsMjEuNDQ4LDYuMjg3LDI3LjkyOCwxNS41M2M2LjQ1Niw5LjIxMiw4LjI5OSwyMC42NjQsNS4wNTcsMzEuNDE5ICBjLTQuNjA2LDE1LjI4NC0xMS4xMjgsMzAuMTQ0LTE5LjM4Niw0NC4xNjZjLTE5LjEwNSwzMi40NDItNTcuMDM0LDc1LjUwNC0xMjkuODAxLDk5LjEzM2MtMC42OTYsNi41MjMtMS43ODMsMTMuMDI0LTMuMjUzLDE5LjQ1NyAgYzEyLjM3OCwwLjc3NiwyMS4xNS0xLjU0LDI0LjY3OS02LjcxN2M1LjU0Ny04LjEzNSwxMy45My0xMy42MjIsMjMuNjA0LTE1LjQ1MmM5LjY3NC0xLjgzLDE5LjQ4MywwLjIxNiwyNy42MTUsNS43NjUgIGM4LjEzMyw1LjU0NSwxMy42MiwxMy45MjcsMTUuNDUsMjMuNjAxYzEuODMxLDkuNjc0LTAuMjE2LDE5LjQ4Mi01Ljc2MywyNy42MTZjLTEyLjE0NiwxNy44MTUtMzYuMTMzLDM5LjA1MS04MS40MjEsMzkuMDUxICBjLTIuNTIsMC01LjExNC0wLjA2Ny03LjcwOC0wLjJjLTEwLjkwNC0wLjU2LTIwLjg4Ny0yLjI1MS0yOC42ODUtMy45ODRjLTcuMjc0LDEwLjM3LTE1LjcxNCwyMC44MS0yNS4xNTcsMzEuMTE3ICBDMjkzLjYwOCw1MDcuNjM3LDI4My43MDIsNTExLjk5NywyNzMuMzkzLDUxMS45OTd6IE0xNzguNzI0LDMyMy4yNWMzLjIxNywwLDYuMjgzLDEuNTI1LDguMjIyLDQuMTY1ICBjNC4yMDUsNS43Myw3Ljg3LDEwLjc4NywxMS4yMDIsMTUuNDU3YzQ4LjI3OSw2Ny42NTksNTguODUzLDEzMy45MzksNTguOTU0LDEzNC42MDFjMC45MjcsNi4zMSw1LjQyMywxMS41NDcsMTEuNDYzLDEzLjQwMSAgYzEuNTY5LDAuNDgxLDMuMTkzLDAuNzI2LDQuODI3LDAuNzI2YzQuNjA1LDAsOS4wMy0xLjk0NywxMi4xMzgtNS4zNDFjMTAuNTMxLTExLjQ5NCwxOS42OTMtMjMuMTExLDI3LjIzMS0zNC41MzQgIGMyLjQxMS0zLjY1NCw2Ljg4My01LjM2MiwxMS4xMi00LjI0MmM3LjMzNCwxLjk0MSwxOC43NjYsNC4zOTIsMzEuNTc3LDUuMDVjMi4yNDYsMC4xMTUsNC40ODgsMC4xNzMsNi42NjIsMC4xNzMgIGMzNi4zNzksMCw1NS4xOTItMTYuMzkyLDY0LjU2OS0zMC4xNDRjMi40NzYtMy42MzMsMy4zOS04LjAxMiwyLjU3Mi0xMi4zMzJjLTAuODE3LTQuMzItMy4yNjgtOC4wNjQtNi45MDEtMTAuNTQgIGMtMy42MzMtMi40NzctOC4wMTItMy4zOTEtMTIuMzMxLTIuNTc0Yy00LjMyLDAuODE4LTguMDY1LDMuMjY5LTEwLjU0Miw2LjkwMmMtOS40OTEsMTMuOTIyLTI4LjkxMSwxOC43NDYtNTYuMTY0LDEzLjk1MSAgYy0yLjg3Ny0wLjUwNy01LjM5OS0yLjIyMi02LjkyNi00LjcxM2MtMS41MjgtMi40OTEtMS45MTMtNS41MTctMS4wNjEtOC4zMWMzLjM0My0xMC45NDksNS40MDEtMjIuMjE5LDYuMTEyLTMzLjQ5NiAgYzAuMjctNC4yNiwzLjE2NC03LjkwMSw3LjI1Mi05LjEyNmM3MC43OTItMjEuMjEsMTA2LjkwMy02MS43NDgsMTI0LjczLTkyLjAyYzcuNDMxLTEyLjYxOCwxMy4yOTctMjUuOTc1LDE3LjQzNC0zOS43MDEgIGMxLjQyNS00LjcyOSwwLjYxMi05Ljc2OC0yLjIzMi0xMy44MjVjLTIuODY3LTQuMDktNy4zNy02LjU5NC0xMi4zNTMtNi44N2MtNy41NjYtMC40MjEtMTQuNDU4LDQuNTA5LTE2LjQyMywxMS43MiAgYy0zLjQ2MiwxMi43MDMtOS45MTUsMjUuNjM3LTIwLjMxMSw0MC43MDVjLTMuMTI5LDQuNTM1LTkuMjkzLDUuNzY2LTEzLjkyMiwyLjc4Yy0yLjg5OS0xLjg2OC01LjY0NS0zLjkxNC04LjE2NS02LjA4MiAgYy0xNC4xNTctMTIuMTczLTIxLjk0LTI4LjQxMy0yMy4xMzItNDguMjY5Yy0wLjI2My00LjM5MS0yLjIxOS04LjQxNC01LjUwOS0xMS4zMzJjLTMuMjg5LTIuOTE3LTcuNTM1LTQuMzgxLTExLjkwMi00LjExMyAgYy00LjM5MywwLjI2My04LjQxNiwyLjIyLTExLjMzMyw1LjUxYy0yLjkxNywzLjI4OS00LjM3OSw3LjUxOC00LjExNCwxMS45MDdjMS43ODQsMjkuNzM4LDE0LjQ5MSw1NS4wMjEsMzYuNzQ4LDczLjExNSAgYzAuMjIsMC4xNzgsMC40NDIsMC4zNTQsMC42NjEsMC41MjlsMC4yNTksMC4yMDVjMi41MjgsMi4wMDgsMy45NTYsNS4wOTUsMy44NDksOC4zMjJjLTAuMTA2LDMuMjI3LTEuNzMzLDYuMjEyLTQuMzg5LDguMDUgIGMtMTQuMjI4LDkuODQ5LTMwLjYxNSwxOC4wNTEtNDguNzA1LDI0LjM3NGMtMi43MzcsMC45NTYtNS43NTMsMC43MDQtOC4yOTMtMC42OTljLTIuNTQtMS40MDEtNC4zNjItMy44MTctNS4wMTItNi42NDQgIGMtMy43MzUtMTYuMjM3LTkuMDM4LTMyLjAxMi0xNC4xNjctNDcuMjY4Yy05LjY3Ni0yOC43ODgtMTguODEyLTU1Ljk2OS0xOS43NzktODcuMDc1Yy0wLjM4LTEyLjI1Mi0wLjAwMy0yNy4yMTUsMS4xMjItNDQuNDcgIGMwLjMzLTUuMDc0LDQuMzQ3LTkuMTI5LDkuNDE2LTkuNTA4YzIzLjQzMy0xLjc1Miw2Ni43MjEtOC42NDcsOTMuMzgzLTM1LjE0MmMzLjExOS0zLjEsNC44NDQtNy4yMjcsNC44NTgtMTEuNjI0ICBjMC4wMTQtNC4zOTYtMS42ODUtOC41MzUtNC43ODQtMTEuNjUzYy0zLjEtMy4xMi03LjIyNy00Ljg0NS0xMS42MjMtNC44NTljLTAuMDE3LDAtMC4wMzUsMC0wLjA1MiwwICBjLTQuMzc5LDAtOC40OTYsMS42OTgtMTEuNjAzLDQuNzg0Yy0xNi4wMDQsMTUuOTA0LTQzLjEzNCwyMi4xOTItNjMuMDczLDI0LjY2OGMtMy4xMSwwLjM4OC02LjIyMy0wLjY3Ny04LjQ0NS0yLjg4NiAgYy0yLjIyMy0yLjIwOC0zLjMwNy01LjMxNS0yLjk0MS04LjQyN2MzLjA4NS0yNi4yMzEsNi4yMDktNDYuMjI2LDYuMzQxLTQ3LjA2NGMxLjQyNS04Ljk4OS00LjcxMS0xNy40MzgtMTMuNjc0LTE4Ljg1OSAgYy04Ljk2OS0xLjQyMy0xNy40MTMsNC43MTUtMTguODM1LDEzLjY3OWMtMC42MDYsMy44MTUtMTQuODAyLDk0LjEwNS0xMi45OTIsMTUyLjM4MWMxLjExOCwzNS45NjgsMTEuOTM0LDY4LjE0NywyMS40NzksOTYuNTM5ICBjMTUuNzEzLDQ2Ljc0NywyOS4yODEsODcuMTEyLDIuMjM4LDEzNy4wNTdjLTEuOTEyLDMuNTMyLTUuNzQsNS42MTQtOS43MjMsNS4zMTVjLTQuMDA0LTAuMjk3LTcuNDYyLTIuOTE2LTguODMzLTYuNjkxICBjLTEyLjMyNy0zMy45NDgtMjkuMTM0LTY1Ljk1NS00OS45NTUtOTUuMTMzYy05LjM4Ni0xMy4xNTMtMTkuMzA0LTI2LjQ2NS0yOS44MDItNDAuNTU4Yy0yMy45MTctMzIuMTAxLTQ4LjYxNy02NS4yNTQtNjcuNDQtOTcuMzg3ICBjLTEuMzgxLTIuMzU3LTEuNzU4LTUuMTY4LTEuMDQ3LTcuODA1YzAuNzA5LTIuNjM3LDIuNDQ3LTQuODc5LDQuODI0LTYuMjI2YzIyLjcwNy0xMi44NTQsNTEuMzkxLTQxLjkyMSw1OS4wOTEtMTA3LjM5OSAgYzEuMDYtOS4wMTQtNS40MTItMTcuMjEtMTQuNDI1LTE4LjI3Yy05LjAxNy0xLjA1OC0xNy4yMTEsNS40MTMtMTguMjcxLDE0LjQyNmMtNS42NTEsNDguMDY0LTI0LjA0OCw3MC4wODktMzguNDg0LDgwLjEwMyAgYy0yLjY0NywxLjgzNS02LDIuMzEzLTkuMDU0LDEuMjg5Yy0zLjA1My0xLjAyMy01LjQ0Mi0zLjQyNy02LjQ0OC02LjQ4NWMtMy41Ni0xMC44My01LjU3OC0yMC45MzEtNS45OTctMzAuMDI0ICBjLTAuMjA0LTQuNDA0LTIuMTA3LTguNDYxLTUuMzYyLTExLjQyNWMtMy4yNDMtMi45NTQtNy40NTUtNC40Ni0xMS44MzEtNC4yNTdjLTkuMDc2LDAuNDItMTYuMTEzLDguMTM3LTE1LjY5NSwxNy4yMDQgIGMyLjUwMyw1NC4xNDcsNDUuMDg2LDExNi4zNDYsODQuODAyLDE3MC4zOTRjMi4yNCwzLjA0OSwyLjYwOSw3LjA4NiwwLjk1NywxMC40OTFjLTEuNjUsMy40MDMtNS4wNTEsNS42MTUtOC44MzIsNS43NDIgIGMtMzAuNTk4LDEuMDM2LTcxLjY0NC0yLjQ2NS05My40MzctMjUuMDFjLTMuMDY1LTMuMTcxLTcuMTgxLTQuOTUzLTExLjU5LTUuMDE4Yy00LjM4NS0wLjA3Ny04LjU3OCwxLjU5NC0xMS43MzYsNC42NzMgIGMtMy4wMTUsMi45MzktNC42OTgsNi45NzEtNC43MzksMTEuMzU0Yy0wLjA0NCw0LjY3OSwxLjgxLDkuMjY1LDUuMDg5LDEyLjU4MmMyMS43MDMsMjEuOTU4LDU1LjczOCwzMy41NDYsMTAxLjE1OSwzNC40NDUgIGMyMC44MDgsMC40MDgsMzkuMjQ1LTEuNTg2LDUwLjU3Ni0zLjIzMkMxNzcuNzQ2LDMyMy4yODQsMTc4LjIzNywzMjMuMjUsMTc4LjcyNCwzMjMuMjV6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iIiBzdHlsZT0iZmlsbDojMkNGMTM2IiBkYXRhLW9sZF9jb2xvcj0iIzJjZjEzNiIvPjxwYXRoIGQ9Ik0xNzUuMjk3LDI5Ny42NThjLTMuMjczLDAtNi40ODctMS41NzMtOC40NTgtNC40ODhsLTI0LjUyOC0zNi4yODJjLTMuMTU2LTQuNjY2LTEuOTMtMTEuMDA3LDIuNzM3LTE0LjE2MiAgYzQuNjY2LTMuMTUzLDExLjAwNy0xLjkzLDE0LjE2MiwyLjczN2wyNC41MjgsMzYuMjgyYzMuMTU2LDQuNjY2LDEuOTMsMTEuMDA3LTIuNzM3LDE0LjE2MiAgQzE3OS4yNSwyOTcuMDksMTc3LjI2NCwyOTcuNjU4LDE3NS4yOTcsMjk3LjY1OHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMyQ0YxMzYiIGRhdGEtb2xkX2NvbG9yPSIjMmNmMTM2Ii8+PHBhdGggZD0iTTEzMS4zMiwyMzIuNjA3Yy0zLjI3MywwLTYuNDg3LTEuNTczLTguNDU4LTQuNDg4bC03LjIwOC0xMC42NjJjLTMuMTU2LTQuNjY2LTEuOTMtMTEuMDA3LDIuNzM3LTE0LjE2MiAgYzQuNjY2LTMuMTUzLDExLjAwNy0xLjkzLDE0LjE2MiwyLjczN2w3LjIwOCwxMC42NjJjMy4xNTYsNC42NjYsMS45MywxMS4wMDctMi43MzcsMTQuMTYyICBDMTM1LjI3MywyMzIuMDQsMTMzLjI4NywyMzIuNjA3LDEzMS4zMiwyMzIuNjA3eiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9IiIgc3R5bGU9ImZpbGw6IzJDRjEzNiIgZGF0YS1vbGRfY29sb3I9IiMyY2YxMzYiLz48L2c+IDwvc3ZnPgo=';
const img = new Image();
img.src = plantB64;

class Plant extends Component {
  constructor(props) {
    super(props);
    this.state = {
      initialProps: { ...props },
    };
  }

  componentWillReceiveProps(nextProps) {
    const konvaProps = toTweenKonvaProps(nextProps);
    this.refs.plant.to({
      ...konvaProps
    });
  }

  render() {
    const konvaProps = toInitialKonvaProps(this.state.initialProps);
    return (
      <konva.Image
        ref="plant"
        image={img}
        { ...konvaProps }
      />
    );
  }
};

export default connect(({ app: { refreshRate, width, height }}) => ({
  refreshRate, width, height,
}))(Plant);
